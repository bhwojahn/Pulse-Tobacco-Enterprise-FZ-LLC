// ============================================
// TRANSLATIONS.JS - Language Translation System
// ============================================

const translations = {
    en: {
        // Navbar
        navAbout: "ABOUT US",
        navProducts: "PRODUCTS",
        navContact: "CONTACT",
        navFindUs: "FIND US",
        
        // Hero Section
        heroTitle: "PULSE TOBACCO",
        heroSubtitle: "YOUR PARTNER IN TOBACCO",
        
        // About Section
        aboutTitle: "ABOUT US",
        aboutHeadline: "Trusted Global Tobacco Partner",
        aboutDescription1: "Pulse Tobacco, founded in the final stretch of 2024, by Jonas Wojahn, is a tobacco trading company looking to explore its potential in the global market. Pulse maintains a strict business process, guaranteeing the best tobacco products on the market. We combine traditional expertise with modern logistics to deliver on our promises, every time.",
        checkMission: "Integrity & Transparency",
        checkServe: "Global Manufacturer Partner",
        checkQuality: "Unyielding Quality Standards",
        checkTeam: "15+ Years Experience",
        
        // Sourcing Section
        sourcingTitle: "SOURCING",
        sourcingText: "We maintain direct relationships with suppliers across key tobacco-producing regions. Our network spans multiple countries. We prioritize quality, consistency, and ethical sourcing practices.",
        
        // Sampling Section
        samplingTitle: "SAMPLING",
        samplingText: "Every batch undergoes rigorous quality assessment. We evaluate moisture content, color, texture, and grade classification. Our quality standards align with international specifications.",
        
        // Logistics Section
        logisticsTitle: "LOGISTICS",
        logisticsText: "Efficient supply chain management from origin to destination. We handle documentation, compliance, and shipping coordination. Flexible shipment sizes and reliable delivery schedules.",
        
        // Products Section
        productsTitle: "VARIETIES",
        
        // FCV Product
        fcvDesc: "Flue-Cured Virginia tobacco, known for its bright golden color and naturally sweet taste profile.",
        fcvUse1: "Cigarette blends",
        fcvUse2: "Premium pipe tobacco",
        fcvUse3: "Export markets",
        
        // ACB Product
        acbDesc: "Air-Cured Burley tobacco with rich, full-bodied flavor and excellent blending properties.",
        acbUse1: "American blends",
        acbUse2: "Chewing tobacco",
        acbUse3: "Cigar filler",
        
        // Oriental Product
        orientalDesc: "Sun-cured Oriental varieties prized for their aromatic complexity and mild character.",
        orientalUse1: "Turkish blends",
        orientalUse2: "Premium cigarettes",
        orientalUse3: "Luxury products",
        
        // DAC Product
        dacDesc: "Dark Air-Cured tobacco with robust, earthy characteristics ideal for specialty products.",
        dacUse1: "Snuff production",
        dacUse2: "Dark-fired blends",
        dacUse3: "Traditional products",
        
        // DFC Product
        dfcDesc: "Dark Fire-Cured tobacco offering intense smoky flavors and distinctive aromatic qualities.",
        dfcUse1: "Pipe tobacco",
        dfcUse2: "Specialty snuff",
        dfcUse3: "Aromatic blends",
        
        // Contact Section
        contactTitle: "CONTACT US",
        contactName: "Insert your name please.",
        contactEmail: "Insert your email please.",
        contactCountry: "Insert your country please.",
        contactMessage: "Insert your message please.",
        contactLinks: "get in contact through the links found here",
        contactSubmit: "SUBMIT",
        
        // Footer
        footerLocationTitle: "LOCATION",
        footerLinksTitle: "QUICK LINKS",
        footerContactTitle: "CONTACT",
        footerMain: "MAIN",
        footerAbout: "ABOUT",
        footerProducts: "PRODUCTS",
        footerFindUs: "FIND US",
        footerCopyright: "© 2026 Pulse Tobacco Enterprise FZ-LLC. All rights reserved.",
        footerWebsite: "Website by Bruno Wojahn",

        // Add to en object:
        findUsHeroTitle: "FIND US",
        findUsHeroSubtitle: "OUR 2026 PROGRAMMING",
        interTabacLocation: "Dortmund, Germany",
        interTabacDesc: "InterTabac is the leading global trade fair for tobacco products. It connects industry leaders to showcase innovations and build partnerships.",
        wtAsiaLocation: "Surabaya, Indonesia",
        wtAsiaDesc: "WT Asia is a regional tobacco industry trade event focused on Asian markets. It brings together manufacturers, suppliers and professionals to present products and technology.",
        wtMiddleEastLocation: "Dubai, United Arab Emirates",
        wtMiddleEastDesc: "WT Middle East is a major tobacco trade exhibition serving the Middle East region. It connects global companies to explore business opportunities and industry trends.",
        eventLearnMore: "Learn More...",
    },
    
    es: {
        // Navbar
        navAbout: "SOBRE NOSOTROS",
        navProducts: "PRODUCTOS",
        navContact: "CONTACTO",
        navFindUs: "ENCUÉNTRANOS",
        
        // Hero Section
        heroTitle: "PULSE TOBACCO",
        heroSubtitle: "TU SOCIO EN TABACO",
        
        // About Section
        aboutTitle: "SOBRE NOSOTROS",
        aboutHeadline: "Socio Global de Confianza en Tabaco",
        aboutDescription1: "Pulse Tobacco, fundada en la recta final de 2024 por Jonas Wojahn, es una empresa comercializadora de tabaco que busca explorar su potencial en el mercado global. Pulse mantiene un estricto proceso de negocio, garantizando los mejores productos de tabaco del mercado. Combinamos la experiencia tradicional con la logística moderna para cumplir nuestras promesas, cada vez.",
        checkMission: "Integridad y Transparencia",
        checkServe: "Socio Global de Fabricantes",
        checkQuality: "Estándares de Calidad Inquebrantables",
        checkTeam: "15+ Años de Experiencia",
        
        // Sourcing Section
        sourcingTitle: "ABASTECIMIENTO",
        sourcingText: "Mantenemos relaciones directas con proveedores en regiones clave de producción de tabaco. Nuestra red abarca múltiples países. Priorizamos la calidad, consistencia y prácticas de abastecimiento ético.",
        
        // Sampling Section
        samplingTitle: "MUESTREO",
        samplingText: "Cada lote se somete a una rigurosa evaluación de calidad. Evaluamos el contenido de humedad, color, textura y clasificación de grado. Nuestros estándares de calidad se alinean con las especificaciones internacionales.",
        
        // Logistics Section
        logisticsTitle: "LOGÍSTICA",
        logisticsText: "Gestión eficiente de la cadena de suministro desde el origen hasta el destino. Manejamos documentación, cumplimiento y coordinación de envíos. Tamaños de envío flexibles y cronogramas de entrega confiables.",
        
        // Products Section
        productsTitle: "VARIEDADES",
        
        // FCV Product
        fcvDesc: "Tabaco Virginia curado al aire caliente, conocido por su color dorado brillante y perfil de sabor naturalmente dulce.",
        fcvUse1: "Mezclas de cigarrillos",
        fcvUse2: "Tabaco premium para pipa",
        fcvUse3: "Mercados de exportación",
        
        // ACB Product
        acbDesc: "Tabaco Burley curado al aire con sabor rico y con cuerpo y excelentes propiedades de mezcla.",
        acbUse1: "Mezclas americanas",
        acbUse2: "Tabaco de mascar",
        acbUse3: "Relleno de cigarros",
        
        // Oriental Product
        orientalDesc: "Variedades orientales curadas al sol apreciadas por su complejidad aromática y carácter suave.",
        orientalUse1: "Mezclas turcas",
        orientalUse2: "Cigarrillos premium",
        orientalUse3: "Productos de lujo",
        
        // DAC Product
        dacDesc: "Tabaco oscuro curado al aire con características robustas y terrosas ideales para productos especializados.",
        dacUse1: "Producción de rapé",
        dacUse2: "Mezclas curadas al fuego oscuro",
        dacUse3: "Productos tradicionales",
        
        // DFC Product
        dfcDesc: "Tabaco oscuro curado al fogo que ofrece sabores ahumados intensos y cualidades aromáticas distintivas.",
        dfcUse1: "Tabaco para pipa",
        dfcUse2: "Rapé especial",
        dfcUse3: "Mezclas aromáticas",
        
        // Contact Section
        contactTitle: "CONTÁCTANOS",
        contactName: "Inserta tu nombre por favor.",
        contactEmail: "Inserta tu correo electrónico por favor.",
        contactCountry: "Inserta tu país por favor.",
        contactMessage: "Inserta tu mensaje por favor.",
        contactLinks: "ponte en contacto a través de los enlaces que se encuentran aquí",
        contactSubmit: "ENVIAR",
        
        // Footer
        footerLocationTitle: "UBICACIÓN",
        footerLinksTitle: "ENLACES RÁPIDOS",
        footerContactTitle: "CONTACTO",
        footerMain: "PRINCIPAL",
        footerAbout: "ACERCA DE",
        footerProducts: "PRODUCTOS",
        footerFindUs: "ENCUÉNTRANOS",
        footerCopyright: "© 2026 Pulse Tobacco Enterprise FZ-LLC. Todos los derechos reservados.",
        footerWebsite: "Sitio web por Bruno Wojahn",

        // Add to es object:
        findUsHeroTitle: "ENCUÉNTRANOS",
        findUsHeroSubtitle: "NUESTRA PROGRAMACIÓN 2026",
        interTabacLocation: "Dortmund, Alemania",
        interTabacDesc: "InterTabac es la feria comercial mundial líder en productos de tabaco. Conecta a líderes de la industria para mostrar innovaciones y construir asociaciones.",
        wtAsiaLocation: "Surabaya, Indonesia",
        wtAsiaDesc: "WT Asia es un evento comercial regional de la industria del tabaco centrado en los mercados asiáticos. Reúne a fabricantes, proveedores y profesionales para presentar productos y tecnología.",
        wtMiddleEastLocation: "Dubái, Emiratos Árabes Unidos",
        wtMiddleEastDesc: "WT Middle East es una importante exhibición comercial de tabaco que sirve a la región de Medio Oriente. Conecta a empresas globales para explorar oportunidades comerciales y tendencias de la industria.",
        eventLearnMore: "Más información...",
    },
    
    pt: {
        // Navbar
        navAbout: "SOBRE NÓS",
        navProducts: "PRODUTOS",
        navContact: "CONTATO",
        navFindUs: "ENCONTRE-NOS",
        
        // Hero Section
        heroTitle: "PULSE TOBACCO",
        heroSubtitle: "SEU PARCEIRO EM TABACO",
        
        // About Section
        aboutTitle: "SOBRE NÓS",
        aboutHeadline: "Parceiro Global de Confiança em Tabaco",
        aboutDescription1: "A Pulse Tobacco, fundada na reta final de 2024 por Jonas Wojahn, é uma empresa comercializadora de tabaco que busca explorar seu potencial no mercado global. A Pulse mantém um rigoroso processo de negócios, garantindo os melhores produtos de tabaco do mercado. Combinamos a experiência tradicional com a logística moderna para cumprir nossas promessas, sempre.",
        checkMission: "Integridade e Transparência",
        checkServe: "Parceiro Global de Fabricantes",
        checkQuality: "Padrões de Qualidade Inabaláveis",
        checkTeam: "15+ Anos de Experiência",
        
        // Sourcing Section
        sourcingTitle: "ABASTECIMENTO",
        sourcingText: "Mantemos relacionamentos diretos com fornecedores em regiões-chave de produção de tabaco. Nossa rede abrange vários países. Priorizamos qualidade, consistência e práticas de abastecimento ético.",
        
        // Sampling Section
        samplingTitle: "AMOSTRAGEM",
        samplingText: "Cada lote passa por uma avaliação rigorosa de qualidade. Avaliamos teor de umidade, cor, textura e classificação de grau. Nossos padrões de qualidade estão alinhados com especificações internacionais.",
        
        // Logistics Section
        logisticsTitle: "LOGÍSTICA",
        logisticsText: "Gestão eficiente da cadeia de suprimentos da origem ao destino. Cuidamos de documentação, conformidade e coordenação de remessa. Tamanhos de remessa flexíveis e cronogramas de entrega confiáveis.",
        
        // Products Section
        productsTitle: "VARIEDADES",
        
        // FCV Product
        fcvDesc: "Tabaco Virginia curado em estufa, conhecido por sua cor dourada brilhante e perfil de sabor naturalmente doce.",
        fcvUse1: "Misturas de cigarros",
        fcvUse2: "Tabaco premium para cachimbo",
        fcvUse3: "Mercados de exportação",
        
        // ACB Product
        acbDesc: "Tabaco Burley curado ao ar com sabor rico e encorpado e excelentes propriedades de mistura.",
        acbUse1: "Misturas americanas",
        acbUse2: "Tabaco de mascar",
        acbUse3: "Enchimento de charutos",
        
        // Oriental Product
        orientalDesc: "Variedades orientais curadas ao sol valorizadas por sua complexidade aromática e caráter suave.",
        orientalUse1: "Misturas turcas",
        orientalUse2: "Cigarros premium",
        orientalUse3: "Produtos de luxo",
        
        // DAC Product
        dacDesc: "Tabaco escuro curado ao ar com características robustas e terrosas ideais para produtos especializados.",
        dacUse1: "Produção de rapé",
        dacUse2: "Misturas curadas ao fogo escuro",
        dacUse3: "Produtos tradicionais",
        
        // DFC Product
        dfcDesc: "Tabaco escuro curado ao fogo oferecendo sabores defumados intensos e qualidades aromáticas distintivas.",
        dfcUse1: "Tabaco para cachimbo",
        dfcUse2: "Rapé especial",
        dfcUse3: "Misturas aromáticas",
        
        // Contact Section
        contactTitle: "ENTRE EM CONTATO",
        contactName: "Insira seu nome por favor.",
        contactEmail: "Insira seu e-mail por favor.",
        contactCountry: "Insira seu país por favor.",
        contactMessage: "Insira sua mensagem por favor.",
        contactLinks: "entre em contato através dos links encontrados aqui",
        contactSubmit: "ENVIAR",
        
        // Footer
        footerLocationTitle: "LOCALIZAÇÃO",
        footerLinksTitle: "LINKS RÁPIDOS",
        footerContactTitle: "CONTATO",
        footerMain: "PRINCIPAL",
        footerAbout: "SOBRE",
        footerProducts: "PRODUTOS",
        footerFindUs: "ENCONTRE-NOS",
        footerCopyright: "© 2026 Pulse Tobacco Enterprise FZ-LLC. Todos os direitos reservados.",
        footerWebsite: "Website por Bruno Wojahn",

        // Add to pt object:
        findUsHeroTitle: "ENCONTRE-NOS",
        findUsHeroSubtitle: "NOSSA PROGRAMAÇÃO 2026",
        interTabacLocation: "Dortmund, Alemanha",
        interTabacDesc: "A InterTabac é a principal feira comercial global de produtos de tabaco. Conecta líderes da indústria para mostrar inovações e construir parcerias.",
        wtAsiaLocation: "Surabaya, Indonésia",
        wtAsiaDesc: "WT Asia é um evento comercial regional da indústria do tabaco focado nos mercados asiáticos. Reúne fabricantes, fornecedores e profissionais para apresentar produtos e tecnologia.",
        wtMiddleEastLocation: "Dubai, Emirados Árabes Unidos",
        wtMiddleEastDesc: "WT Middle East é uma importante exposição comercial de tabaco que atende a região do Oriente Médio. Conecta empresas globais para explorar oportunidades de negócios e tendências do setor.",
        eventLearnMore: "Saiba mais...",
    }
};

// ============================================
// LANGUAGE FUNCTIONS
// ============================================

function setLanguage(lang) {
    // Update all elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update all input placeholders with data-translate-placeholder attribute
    document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
        const key = element.getAttribute('data-translate-placeholder');
        if (translations[lang] && translations[lang][key]) {
            element.placeholder = translations[lang][key];
        }
    });
    
    // Update current flag image
    const currentFlag = document.getElementById('current-flag');
    if (currentFlag) {
        currentFlag.src = `./imgs/flags/${lang}.svg`;
        currentFlag.alt = lang.toUpperCase();
    }
    
    // Update active state on dropdown flags
    document.querySelectorAll('.language-flag-option').forEach(flag => {
        flag.classList.remove('active');
        if (flag.getAttribute('data-lang') === lang) {
            flag.classList.add('active');
        }
    });
    
    // Store language preference in SESSION storage (resets when browser closes)
    sessionStorage.setItem('selectedLanguage', lang);
    
    // Close dropdown
    const dropdown = document.getElementById('language-dropdown');
    if (dropdown) {
        dropdown.classList.remove('active');
    }
}

// ============================================
// DROPDOWN TOGGLE
// ============================================

function toggleLanguageDropdown(e) {
    if (e) {
        e.stopPropagation();
    }
    const dropdown = document.getElementById('language-dropdown');
    if (dropdown) {
        dropdown.classList.toggle('active');
    }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(e) {
    const languageSelector = document.querySelector('.language-selector');
    const dropdown = document.getElementById('language-dropdown');
    
    if (languageSelector && dropdown && !languageSelector.contains(e.target)) {
        dropdown.classList.remove('active');
    }
});

// ============================================
// INITIALIZATION
// ============================================

document.addEventListener('DOMContentLoaded', function() {
    // Check session storage for language, default to English if not found
    const savedLang = sessionStorage.getItem('selectedLanguage') || 'en';
    setLanguage(savedLang);
    
    // Add click event to current flag to toggle dropdown
    const currentFlag = document.getElementById('language-current');
    if (currentFlag) {
        currentFlag.addEventListener('click', function(e) {
            e.stopPropagation();
            toggleLanguageDropdown(e);
        });
    }
    
    // Add click events to flag options
    document.querySelectorAll('.language-flag-option').forEach(flag => {
        flag.addEventListener('click', function(e) {
            e.stopPropagation();
            const lang = this.getAttribute('data-lang');
            console.log('Switching to language:', lang);
            setLanguage(lang);
        });
    });
});